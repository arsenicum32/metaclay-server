!function(){function t(t,e){var o=(e.text||"название раздела").split("").join("<br>"),n=e.desc||"краткое описание раздела не очень большое, но и не такое маленькое, чтобы не заметить",c=e.file,p=d3.select("body").append("div"),r=x-s*(t||1);return p.attr("leftpos",r),p.attr("text",o),p.attr("desc",n),p.attr("file",c||"desc.html"),p.attr("class","fullinfopanel fullall").style("visibility","visible").style("top","0px").style("left",r+"px").html('<div class="flexblock" ><h1 class="razdel">'+o+"</h1><p>"+n+"</p></div>"),e.active&&($.get("/g/"+p.attr("file"),function(t){p.html(l+t+a)}),p.classed("active",!0).transition().style("left",x/8+"px").duration(980)),p.on({mouseover:function(){d3.select(this).classed("active")||d3.select(this).transition().style("left",r-i+"px")},mouseout:function(){d3.select(this).classed("active")||d3.select(this).transition().style("left",r+"px")},click:function(){if(0==d3.select(this).classed("active")){for(var t in panels)panels[t].transition().style("left",panels[t].attr("leftpos")+"px").duration(980),panels[t].classed("active",!1);$.get("/g/"+d3.select(this).attr("file"),function(t){$(".fullinfopanel").each(function(){$(this).hasClass("active")?$(this).html(l+t+a):$(this).html('<div class="flexblock" ><h1 class="razdel">'+$(this).attr("text")+"</h1><p>"+$(this).attr("desc")+"</p></div>")})}),d3.select(this).classed("active",!0),d3.select(this).transition().style("left",x/8+"px").duration(980)}}}),resf.push(function(){r=x-s*(t||1),p.attr("leftpos",r),p.classed("active")?p.style("left",x/8+"px"):p.style("left",r+"px")}),p}window.panels=[];var e,s=30,i=70,l='<div style="overflow-y: scroll; position: relative; right: -16px; width: 100%; height: 100%; ">',a="</div>";$.get("/data",function(s){for(var i in s.about)panels.push(t(s.about.length-i,s.about[i]));e&&$(e).click()})}(),function(){var t=svg.append("g");window.tooltip=d3.select("body").append("div").style("z-index",1e3).attr("class","tooltip").text("a simple tooltip");var e=t.append("circle").attr({"class":"hamburger",cx:60,cy:40,r:20}),s=[t.append("path").attr({"class":"hamburger",d:"M 60 47 L 52 39.5 L 60 32","stroke-width":3})];resf.push(function(){e.attr({cx:60});for(var t in s)s[t].attr({x1:48,x2:72})}),t.on({click:function(){effects.go("/nodoor")},mouseover:function(){tooltip.style("visibility","visible"),tooltip.text("на главную"),tooltip.style("top",d3.event.pageY-10+"px").style("left",d3.event.pageX+10+"px")},mouseout:function(){tooltip.style("visibility","hidden")}})}();